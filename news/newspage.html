<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=1"
    />
    <title>学院要闻</title>
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="stylesheet" href="../css/nav.css">
    <link rel="stylesheet" href="css/container.css">
    <link rel="stylesheet" href="css/content.css">
    <script type="text/javascript" src="../js/jquery-3.6.4.js"></script>
    <script type="text/javascript" src="./js/newsload.js"></script>
    <script type="text/javascript" src="../js/stylefunc.js"></script>
  </head>
  <body>
    <div class="root">
      <header></header>
      <nav></nav>
      <!-- 背景图 -->
      <div id="container">
          <!--  图片展示-->
          <img src="images/background.png" alt="背景图" class="img">
          <div class="block">
             <div class="text-title">
               <a href="../news/index.html">学院新闻</a>
             </div>
             <div class="text-line1"></div>
             <div class="text-line2"></div>
             <div class="text-content">
               <a href="../index/index.html" class="link">首页</a>/
               <a href="../news/index.html" class="link">学院新闻</a>/
               <a href="../news/index.html" class="link">学院要闻</a>
             </div>
          </div>
        </div>
      </div>

    <!-- 主体内容 -->
    <div id="content">
      <div class="content-inner">
        <div class="side-nav">
          <div class="side-title">
            学院新闻
          </div>
          <div class="side-line"></div>
          <div class="side-block" id="news"><a id="news-a" href="../news/index.html">学院要闻</a></div>
          <div class="side-block" id="document"><a id="document-a" href="../news/documentpage.html">通知公告</a></div>
          </div>
        </div>

        <div class="body-page">
          <div class="body-title">学院要闻</div>
          <div class="body-line"></div>
          <div class="body-content">
            <div class="page1"></div>
            <script>
              loadNewsModule('page1.html');
            </script>
          </div>
        </div>
      </div>
    </div>
       <footer></footer>
    </div>
    <script>
      async function fetchAndInsertContent(selector, url) {
        const response = await fetch(url);
        const content = await response.text();
        document.querySelector(selector).innerHTML = content;
      }
      (async function() {
        await fetchAndInsertContent('header', '../header.html');
        await fetchAndInsertContent('nav', '../nav.html');
        await fetchAndInsertContent('footer','../footer.html');
        navfunction();
      })();
      window.onload = function(){
        calculateContentHeight();
        let textContent = document.querySelector('.text-content').textContent.replace(/\s/g,'');
        // 定义存储 side-block 对应的id和文字内容的对象
        const sideBlocks = {
          news: '学院要闻',
          document: '通知公告',
        };
        // 循环遍历对象，匹配文字内容并修改样式
        for (const id in sideBlocks) {
          if (textContent.includes(sideBlocks[id])) {
            document.getElementById(id).style.backgroundColor = '#9A2F2F';
            document.getElementById(id + '-a').style.color = '#FFFFFF';
          }
        }
      };
    </script>
  </body>
</html>
